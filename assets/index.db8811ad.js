var e=Object.defineProperty,t=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,o=(t,a,n)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n;import{l as i,M as r,u as l,R as s,A as c,C as d,S as p,T as u,I as m,a as h,B as f,i as x,b as y,c as g,d as b,e as v,f as E,r as w,g as k,m as C,E as S,P as T,h as F,j as _,k as I,n as O,J as P,o as z}from"./vendor.8c36a3ae.js";var A={type:"page",data:{value:{breakpoint:"480px",headAttributes:'<mj-text font-size="14px" />\n<mj-text line-height="1.7" />\n<mj-text font-weight="400" />',"font-size":"14px","font-weight":"400","line-height":"1.7",headStyles:[],fonts:[{name:"Poppins",href:"https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap"}],responsive:!0,"font-family":"'Poppins', sans-serif, Arial, Helvetica","text-color":"#000000"}},attributes:{"background-color":"#FFFFFF",width:"600px"},children:[{type:"wrapper",data:{value:{}},attributes:{padding:"20px 0px 20px 0px",border:"none",direction:"ltr","text-align":"center","background-color":"#fafdfe"},children:[{type:"section",data:{value:{noWrap:!1}},attributes:{"background-repeat":"repeat","background-size":"auto","background-position":"top center",border:"none",direction:"ltr","text-align":"left",padding:"0px 0px 0px 0px"},children:[{type:"column",data:{value:{}},attributes:{border:"none","vertical-align":"top",padding:"0px 0px 0px 0px"},children:[{type:"image",data:{value:{}},attributes:{align:"left",height:"auto",src:"https://prime.platacard.mx/communication/static/domains/common/email/images/logox2.png",width:"102px",padding:"64px 60px 40px 60px"},children:[]}]}]},{type:"section",data:{value:{noWrap:!1}},attributes:{"background-repeat":"repeat","background-size":"auto","background-position":"top center",border:"none",direction:"ltr","text-align":"left",padding:"0px 60px 20px 60px"},children:[{type:"column",data:{value:{}},attributes:{border:"none","vertical-align":"top",padding:"0px 0px 0px 0px"},children:[{type:"text",data:{value:{content:"You rescheduled your meeting"}},attributes:{align:"left","font-size":"30px","font-family":"","font-weight":"600","line-height":"40px",padding:"10px 0 10px 0"},children:[]},{type:"text",data:{value:{content:"<div><div>Your meeting is rescheduled for {date} between {time_from} and {time_to} at {address}.&nbsp;</div><div><br></div><div>Our ambassador will meet you there. Please be sure to have your INE with you, since we’ll use it to verify your identity. The meeting will take around 10 minutes. After the meeting, the ambassador will give you your card and a gift.&nbsp;</div><div><br></div><div>Please review your application to make sure your details are correct.&nbsp;</div><div><br></div><div>See you soon!<br></div></div>"}},attributes:{align:"left",padding:"10px 0 10px 0","font-size":"16px","line-height":"24px","font-family":""},children:[]},{type:"advanced_button",data:{value:{content:"Review my applications"}},attributes:{align:"left","background-color":"#ff5d16",color:"#ffffff","font-weight":"400","border-radius":"12px",padding:"10px 0 10px 0","inner-padding":"10px 25px 10px 25px","line-height":"200%",target:"_blank","vertical-align":"middle",border:"none","text-align":"center",href:"https://plata.onelink.me/dm3g/3x97x6di",width:"260px","font-size":"14px","font-family":""},children:[]},{type:"advanced_divider",data:{value:{}},attributes:{align:"center","border-width":"1px","border-style":"solid","border-color":"#C9CCCF",padding:"10px 0px 10px 0px"},children:[]},{type:"advanced_text",data:{value:{content:'<a href="https://prime.platacard.mx/file-service/static/eula/privacy.pdf" target="_blank" style="color: inherit; text-decoration: underline;" tabindex="-1">Privacy notice</a>&nbsp; &nbsp; &nbsp; &nbsp;<a href="https://prime.platacard.mx/file-service/static/eula/terms.pdf" target="_blank" style="color: inherit; text-decoration: underline;" tabindex="-1">Terms and conditions</a>'}},attributes:{padding:"10px 0 10px 0",align:"left",color:"#171c2673","font-size":"12px","line-height":"16px"},children:[]},{type:"advanced_text",data:{value:{content:"Tecnologías Diffiere, S.A.P.I. de C.V.. Mariano Escobedo, 476, Anzures, Miguel Hidalgo, 11590, CDMX"}},attributes:{padding:"10px 0 10px 0",align:"left","font-size":"12px",color:"#171c2673","line-height":"16px"},children:[]}]}]}]}]};const L=new class{constructor(e,i){this.handler={start:[],progress:[],end:[]},this.options=((e,i)=>{for(var r in i||(i={}))a.call(i,r)&&o(e,r,i[r]);if(t)for(var r of t(i))n.call(i,r)&&o(e,r,i[r]);return e})({limit:1,autoUpload:!0},i),this.uploadServer=e,this.el=this.createInput()}createInput(){Array.from(document.querySelectorAll(".uploader-form-input")).forEach((e=>{e&&document.body.removeChild(e)}));const e=document.createElement("input");return e.className="uploader-form-input",e.type="file",e.style.display="block",e.style.opacity="0",e.style.width="0",e.style.height="0",e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.overflow="hidden",e.multiple=this.options.limit>1,this.options.accept&&(e.accept=this.options.accept),e}async uploadFiles(e){const t=e.map((e=>({file:e}))),a=t.map((e=>({url:"",status:"pending",idx:`uploader-${i.exports.uniqueId()}`})));this.handler.start.map((e=>e(a))),await function(e){const t=[];let a=0;return new Promise((n=>{e.forEach((async o=>{try{const i=await o;t.push(i)}catch(i){t.push(i)}finally{a++,a===e.length&&n(!0)}}))}))}(t.map((async(e,t)=>{try{const n=await this.uploadFile(e);a[t].url=n,a[t].status="done"}catch(n){a[t].status="error"}finally{this.handler.progress.map((e=>e(a)))}}))),this.handler.end.map((e=>e(a)))}async uploadFile(e){return this.uploadServer(e.file)}checkFile(e){const t=this.checkTypes(e);if(t)throw new Error(t);const a=this.checkSize(e);if(a)throw new Error(a)}checkTypes(e){const t=this.options.accept;if(t){let a="";-1!==t.indexOf("image")?a="image":-1!==t.indexOf("video")&&(a="video");for(const t of e)if(0!==t.type.indexOf(a))return"上传文件类型错误!"}return null}checkSize(e){const t=this.options;for(const a of e){if(t.minSize&&a.size<t.minSize)return`上传文件不能小于 ${t.minSize}`;if(t.maxSize&&a.size>t.maxSize)return`上传文件不能小于 ${t.maxSize}`}return null}chooseFile(){const e=this.el;return document.body.appendChild(e),e.click(),new Promise((t=>{e.onchange=async a=>{let n=a.target.files||[];n=Array.prototype.slice.call(n),0!==n.length&&(this.checkFile(n),this.options.autoUpload?this.uploadFiles(n):t(n),e.onchange=null,e.parentNode&&e.parentNode.removeChild(e))}}))}on(e,t){this.handler[e].push(t)}off(e,t){const a=this.handler[e];this.handler[e]=a.filter((e=>e!==t))}}((async()=>""),{autoUpload:!1,limit:1,accept:"*"});var M;(M||(M={})).MY_FIRST_BLOCK="MY_FIRST_BLOCK";const{Section:R,Column:B,Image:j,Button:Y,Text:K}=x;function N(){return s.createElement(R,{padding:"20px"},s.createElement(K,null,"LOL"))}const U={name:"My first block",type:M.MY_FIRST_BLOCK,create(e){const t={type:M.MY_FIRST_BLOCK,data:{value:{buttonText:"Got it",imageUrl:"https://assets.maocanhua.cn/10dada65-c4fb-4b1f-837e-59a1005bbea6-image.png"}},attributes:{"background-color":"#4A90E2","text-color":"#ffffff"},children:[]};return i.exports.merge(t,e)},validParentType:[f.PAGE,f.WRAPPER],render(e){const t=e.data;return t.data.value,t.attributes,s.createElement(N,null)}};y.registerBlocks({[M.MY_FIRST_BLOCK]:U}),g.add({[M.MY_FIRST_BLOCK]:function(){const{focusIdx:e}=l();return s.createElement(c,null,s.createElement(d,{defaultActiveKey:["1"]},s.createElement(d.Panel,{key:"1",header:"Setting"},s.createElement(p,{vertical:!0},s.createElement(u,{label:"Button text",name:`${e}.data.value.buttonText`,inline:!0,alignment:"center"}),s.createElement(m,{label:"Logo",name:`${e}.data.value.imageUrl`,inline:!0,alignment:"center"}),s.createElement(h,{label:"text color",name:`${e}.attributes.text-color`,inline:!0,alignment:"center"}),s.createElement(h,{label:"Background color",name:`${e}.attributes.background-color`,inline:!0,alignment:"center"})))))}}),b.addCategories([{title:"Custom",name:"Custom",blocks:[{type:M.MY_FIRST_BLOCK,title:"My first block",description:"An custom block",component:()=>s.createElement(v,{type:M.MY_FIRST_BLOCK,payload:{}},s.createElement("div",{style:{position:"relative"}},s.createElement("img",{src:"https://assets.maocanhua.cn/5631c12e-5788-40fd-92fe-23930a5985d7-image.png",style:{maxWidth:"100%"}}),s.createElement("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:2}}))),thumbnail:"https://assets.maocanhua.cn/5631c12e-5788-40fd-92fe-23930a5985d7-image.png"}]}]);const $=["Arial","Tahoma","Verdana","Times New Roman","Courier New","Georgia","Lato","Montserrat","黑体","仿宋","楷体","标楷体","华文仿宋","华文楷体","宋体","微软雅黑"].map((e=>({value:e,label:e}))),W=[{label:"Content",active:!0,blocks:[{type:E.TEXT},{type:E.IMAGE,payload:{attributes:{padding:"0px 0px 0px 0px"}}},{type:E.BUTTON},{type:E.SOCIAL},{type:E.DIVIDER},{type:E.SPACER},{type:E.HERO},{type:E.WRAPPER}]},{label:"Layout",active:!0,displayType:"column",blocks:[{title:"2 columns",payload:[["50%","50%"],["33%","67%"],["67%","33%"],["25%","75%"],["75%","25%"]]},{title:"3 columns",payload:[["33.33%","33.33%","33.33%"],["25%","25%","50%"],["50%","25%","25%"]]},{title:"4 columns",payload:[[["25%","25%","25%","25%"]]]}]}];function G(){const[e,t]=w.exports.useState("download.mjml"),[a,n]=w.exports.useState(A),{importTemplate:o}={importTemplate:async()=>{const[e]=await L.chooseFile(),t=new FileReader;return new Promise(((a,n)=>{t.onload=function(t){if(t.target)try{const n=r(t.target.result);a([e.name,n])}catch(o){n()}else n()},t.readAsText(e)}))}},{exportTemplate:i}={exportTemplate:(e,t)=>{var a=new Blob([t],{type:"text/html"});const n=window.URL.createObjectURL(a),o=document.createElement("a"),i=new MouseEvent("click");o.download=e,o.href=n,o.dispatchEvent(i)}},{width:l}=k(),c=l<1400,d=e=>{!function(e){const t=document.createElement("textarea");t.value=e,t.style.position="fixed",t.style.left="-9999px",document.body.append(t),t.select(),document.execCommand("Copy"),document.body.removeChild(t)}(O(P({data:e.content,mode:"production",context:e.content}),{beautify:!0,validationLevel:"soft"}).html),C.success("Copied to pasteboard!")},u=async()=>{try{const[e,a]=await o();t(e),console.log(JSON.stringify(a)),n(a)}catch(e){C.error("Invalid mjml file")}},m=w.exports.useCallback((async(e,t)=>{console.log("values",e),C.success("Saved success!")}),[]),h=w.exports.useMemo((()=>({subject:"Welcome to Easy-email",subTitle:"Nice to meet you!",content:a})),[a]);return s.createElement("div",null,s.createElement(S,{dashed:!1,data:h,height:"calc(100vh - 85px)",autoComplete:!0,fontList:$,onSubmit:m},(({values:t},{submit:a})=>s.createElement(s.Fragment,null,s.createElement(T,{title:"Edit",extra:s.createElement(p,{alignment:"center"},s.createElement(F,{onClick:()=>d(t)},"Copy Html"),s.createElement(F,{onClick:()=>(e=>{const t=O(P({data:e.content,mode:"production",context:e.content}),{beautify:!0,validationLevel:"soft"}).html;i("index.template.html",t)})(t)},"Export HTML"),s.createElement(F,{onClick:()=>(t=>{i(e,P({data:t.content,mode:"production",context:t.content}))})(t)},"Export MJML"),s.createElement(F,{onClick:u},"import Template"),s.createElement(F,{type:"primary",onClick:()=>a()},"Save"))}),s.createElement(_,{compact:!c,categories:W,showSourceCode:!0},s.createElement(I,null))))))}y.getBlockByType(f.PAGE),z.render(s.createElement(G,null),document.getElementById("root"));
